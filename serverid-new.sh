#!/bin/bash

# List of server IPs
SERVERS=(
149.28.173.88
45.32.244.174
45.77.123.146
209.250.239.90
45.32.162.128
80.240.16.218
95.179.139.218
199.247.30.131
45.32.218.247
108.61.178.187
149.28.167.244
45.76.188.104
45.77.192.115
207.246.106.215
95.179.168.158
45.76.80.81
144.202.37.193
80.240.21.150
45.76.49.216
207.148.6.233
104.236.212.56
139.180.157.166
209.250.239.81
45.32.216.175
45.32.216.175
155.138.210.137
45.32.214.72
144.202.122.215
45.76.69.4
155.138.213.176
45.76.229.102
45.77.233.39
95.179.151.167
45.77.54.144
66.42.92.223
78.141.223.74
95.179.134.251
144.202.31.252
45.77.116.29
136.244.103.134
155.138.230.38
149.28.220.53
136.244.84.17
144.202.23.150
144.202.34.149
136.244.111.167
45.76.136.53
136.244.111.167
149.28.204.92
155.138.159.179
45.32.169.120
108.61.215.198
45.63.99.195
45.32.221.222
45.77.74.231
45.76.38.129
108.61.207.70
155.138.164.253
45.77.166.38
45.63.111.247
144.202.79.204
155.138.193.43
155.138.207.170
155.138.222.116
45.76.82.157
78.141.197.235
45.32.222.72
155.138.164.239
45.63.28.115
)

echo "========== Server ID Report =========="

for SERVER in "${SERVERS[@]}"; do
    echo "üîó Connecting to $SERVER ..."

    # Run ls /home/ on the server using cng
    SERVER_ID=$(cng "$SERVER" "ls /home/ 2>/dev/null | grep -o '^[0-9]*' | head -n 1")

    if [ -n "$SERVER_ID" ]; then
        echo "‚úÖ Server IP: $SERVER | Server ID: $SERVER_ID"
    else
        echo "‚ùå Server IP: $SERVER | Could not fetch Server ID"
    fi

    echo "üîå Disconnected from $SERVER"
    echo "--------------------------------------"
done

echo "========== End of Report =========="
